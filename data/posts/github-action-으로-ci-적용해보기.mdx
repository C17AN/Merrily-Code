---
title: Github Action ê¸°ë°˜ CI ì ìš©ê¸°
date: "2022-02-02"
description: Github Actionì„ í™œìš©í•´ ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œí’€ì´ ì €ì¥ì†Œì— CI í”„ë¡œì„¸ìŠ¤ë¥¼ ì¶”ê°€í•´ë³¸ ê²½í—˜ì„ ì†Œê°œí•©ë‹ˆë‹¤.
category: cicd
thumbnailUrl: "/thumbnails/cicd.svg"
tags: ["Github", "CI/CD"]
---

ì €ëŠ” ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œë¥¼ í’€ì´í•œ ë‹¤ìŒ ì½”ë“œë¥¼ ê¹ƒí—ˆë¸Œì— ì—…ë¡œë“œí•˜ê³¤ í•˜ëŠ”ë°ìš”, ì–´ëŠ ë‚  ì €ì¥ì†Œì˜ ì¼ê´€ë˜ì§€ ì•Šì€ ì»¤ë°‹ ë©”ì‹œì§€ê°€ ì‹ ê²½ì“°ì´ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤.

![ì œë©‹ëŒ€ë¡œì¸ ì»¤ë°‹ ë©”ì‹œì§€...ğŸ˜¢](/posts/github-action-ìœ¼ë¡œ-ci-ì ìš©í•´ë³´ê¸°/0.png "700px")

ì»¨ë²¤ì…˜ì´ë‚˜ ì»¤ë°‹ í…œí”Œë¦¿ì„ ë”°ë¡œ ì œì‘í•´ë‘”ë‹¤ê³  í•´ë„ ì´ëŠ” ê²°êµ­ ì‚¬ëŒì´ ë‚¨ê¸°ëŠ” ê²ƒì¸ ë§Œí¼ ì‹¤ìˆ˜ê°€ ë°œìƒí•  ì—¬ì§€ê°€ ì¶©ë¶„íˆ ìˆì—ˆê³ , ì´ë²ˆ ê¸°íšŒì— `Github Action` ì„ ì‚¬ìš©í•´ ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ ê³ ì •í•˜ëŠ” íƒœìŠ¤í¬ë¥¼ ì¶”ê°€í•´ë³´ë ¤ ì‹œë„í–ˆìŠµë‹ˆë‹¤.

> âœ… ë‚˜ì¤‘ì— ì•Œê²Œ ëœ ì‚¬ì‹¤ì´ì§€ë§Œ, ì´ë ‡ê²Œ Gitì˜ ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•´ íŠ¹ì • ì•¡ì…˜ì„ íŠ¸ë¦¬ê±°íˆê³ ì í•  ë•ŒëŠ” í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì‹¤í–‰ë˜ëŠ” [Git hooks](https://git-scm.com/book/ko/v2/Git%EB%A7%9E%EC%B6%A4-Git-Hooks) ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

## 1. ì»¤ë°‹ ë©”ì‹œì§€ ê³ ì •í•˜ê¸°

ì²« ë²ˆì§¸ ëª©í‘œëŠ” ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ íŠ¹ì • ì»¨ë²¤ì…˜ìœ¼ë¡œ ê°•ì œë¡œ ê³ ì •ì‹œí‚¤ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.

#

í˜„ì¬ëŠ” `[feat: í‘¼ ë¬¸ì œ ë²ˆí˜¸]` ë˜ëŠ” `[ë¬¸ì œ ìœ í˜• : ë¬¸ì œ ë²ˆí˜¸]` ì²˜ëŸ¼ ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ í†µì¼í•˜ë ¤ê³  ì‹œë„ëŠ” í–ˆìœ¼ë‚˜ ì œëŒ€ë¡œ ì´ë£¨ì–´ì§€ì§€ ì•Šê³  ìˆì—ˆëŠ”ë°ìš”, ì´ë²ˆ CI ê³¼ì •ì—ì„œëŠ” `{í˜„ì¬ ë‚ ì§œ} ë¬¸ì œí’€ì´ ê¸°ë¡` ì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì»¤ë°‹ ë©”ì‹œì§€ê°€ í†µì¼ë˜ë„ë¡ ì‹œë„í–ˆìŠµë‹ˆë‹¤.

#

ì´ë¥¼ ìœ„í•´ [`stefanzweifel/git-auto-commit-action@v4`](https://github.com/stefanzweifel/git-auto-commit-action) ì´ë¼ëŠ” ì»¤ìŠ¤í…€ ì•¡ì…˜ì„ ë„ì…í–ˆê³ , ì²˜ìŒì—ëŠ” ì´ë ‡ê²Œë§Œ ì‘ì„±í•˜ë©´ ë  ì¤„ ì•Œì•˜ìŠµë‹ˆë‹¤.

```yaml
name: ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œí’€ì´ ê¸°ë¡
on:
  push:
    branches:
      - "master"
jobs:
  Create-PS-Record:
    name: "ê¸ˆì¼ ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œí’€ì´ ê¸°ë¡"
    runs-on: ubuntu-latest
    steps:
      # ì˜¤ëŠ˜ ë‚ ì§œë¥¼ í™˜ê²½ ë³€ìˆ˜ì— ì €ì¥í•©ë‹ˆë‹¤.
      # date ì»¤ë§¨ë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì˜¤ëŠ˜ ë‚ ì§œ ì •ë³´ë¥¼ í˜•ì‹ì— ë§ê²Œ ì½ì–´ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      - name: set Today Date
        run: echo TODAY_DATE=$(date +%Yë…„\ %mì›”\ %dì¼) >> $GITHUB_ENV

      - name: overlap commit
        uses: stefanzweifel/git-auto-commit-action@v4
        with:
          commit_message: ${{ env.TODAY_DATE }} ë¬¸ì œ í’€ì´ ê¸°ë¡
          commit_user_name: Chanmin, Kim <kimchanmin1@gmail.com>
          commit_author: "Chanmin, Kim <kimchanmin1@gmail.com>"
```

> âœ… **Tip: `runs-on`, `with` ë“± ì •í•´ì§„ Github Action í‚¤ì˜ ì´ë¦„ì„ ì–´ë–»ê²Œ ë‹¤ ì™¸ìš¸ ìˆ˜ ìˆë‚˜ìš”?**
>
> ##
>
> ì €ë„ ì²˜ìŒì—ëŠ” ì´ ë¶€ë¶„ì´ ë§‰ë§‰í•˜ê²Œ ëŠê»´ì¡ŒëŠ”ë°ìš”, [Github Actions](https://marketplace.visualstudio.com/items?itemName=cschleiden.vscode-github-actions) VSCode ìµìŠ¤í…ì…˜ì„ ì‚¬ìš©í•˜ë©´ ì¸í…”ë¦¬ì„¼ìŠ¤ì²˜ëŸ¼ ì•¡ì…˜ í‚¤ ìë™ì™„ì„±ì´ë‚˜ YAML ìœ íš¨ì„± ê²€ì¦ì„ ì§€ì›í•´ì¤˜ ì •ë§ ê°„ë‹¨íˆ íƒœìŠ¤í¬ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤!
>
> ##
>
> ê·¸ë¦¬ê³  [ê³µì‹ ë¬¸ì„œ](https://docs.github.com/en/actions)ê°€ ì •ë§ ì˜ ë˜ì–´ìˆëŠ” í¸ì´ë¼, ë¬¸ì„œë¥¼ ë”°ë¼ê°€ë‹¤ ë³´ë©´ ê¸ˆë°© ìµíˆì‹¤ ìˆ˜ ìˆì„ ê±°ì—ìš”!

![ë ìš©? ğŸ˜§](/posts/github-action-ìœ¼ë¡œ-ci-ì ìš©í•´ë³´ê¸°/1.png "700px")

ê·¸ëŸ°ë° ì•¡ì…˜ì„ í†µí•´ ì»¤ë°‹ì„ ì¶”ê°€í•˜ë‹ˆ í˜„ì¬ ì €ì¥ì†Œê°€ ê¹ƒ ì €ì¥ì†Œê°€ ì•„ë‹ˆë¼ëŠ” ë©”ì‹œì§€ê°€ ì¶œë ¥ë˜ì—ˆëŠ”ë°ìš”, ì´ìœ ë¥¼ ì•Œì•„ë³´ë‹ˆ ì•¡ì…˜ì—ì„œ í˜„ì¬ ì €ì¥ì†Œì˜ ì •ë³´(ì»¤ë°‹ ê¸°ë¡, íŒŒì¼ ëª©ë¡ ë“±)ì„ ë¶ˆëŸ¬ì˜¤ê¸° ìœ„í•´ì„œëŠ” [`checkout`](https://github.com/actions/checkout) ì´ë¼ëŠ” ì»¤ìŠ¤í…€ ì•¡ì…˜ì„ ë°˜ë“œì‹œ ìŠ¤í… ì œì¼ ìœ„ì—ì„œ ì‚¬ìš©í•´ì•¼ í•¨ì„ ì•Œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

```yaml
name: ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œí’€ì´ ê¸°ë¡
on:
  push:
    branches:
      - "master"
jobs:
  Create-PS-Record:
    name: "ê¸ˆì¼ ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œí’€ì´ ê¸°ë¡"
    runs-on: ubuntu-latest
    steps:
      - name: set Today Date
        run: echo TODAY_DATE=$(date +%Yë…„\ %mì›”\ %dì¼) >> $GITHUB_ENV

      # ì €ì¥ì†Œ ì •ë³´ë¥¼ ì½ì–´ì˜µë‹ˆë‹¤.
      - name: fetch repository info
        uses: actions/checkout@v2
        with:
          ref: ${{ github.head_ref }}

      - name: overlap commit
        uses: stefanzweifel/git-auto-commit-action@v4
        with:
          commit_message: ${{ env.TODAY_DATE }} ë¬¸ì œ í’€ì´ ê¸°ë¡
          commit_user_name: Chanmin, Kim <kimchanmin1@gmail.com>
          commit_author: "Chanmin, Kim <kimchanmin1@gmail.com>"
```

![](/posts/github-action-ìœ¼ë¡œ-ci-ì ìš©í•´ë³´ê¸°/2.png "700px")

ì´ì œ ì»¤ë°‹ì„ ë‚¨ê¸°ë©´ `{í˜„ì¬ ë‚ ì§œ} ë¬¸ì œí’€ì´ ê¸°ë¡` ì´ë¼ëŠ” ì´ë¦„ì˜ ì»¤ë°‹ì´ ìƒˆë¡œ ì¶”ê°€ë˜ëŠ”ë°ìš”, ì´ë¥¼ í†µí•´ ì›í•˜ëŠ” í˜•íƒœì˜ ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ ê°•ì œí•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

> ğŸ§ **ê·¸ëŸ°ë° ì´ëŸ¬ë©´ ë‘ ê°œì˜ ì»¤ë°‹ì´ ìƒê¸´ë‹¤ëŠ” ê±´ë°, ì»¤ë°‹ì„ ìŠ¤ì¿¼ì‹œí•˜ê±°ë‚˜ `commit --amend` ë¡œ í•´ê²°í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ ì—†ì„ê¹Œìš”?**
>
> #
>
> ì•„ì‰½ê²Œë„ Github Action íƒœìŠ¤í¬ëŠ” ì£¼ì–´ì§„ ìŠ¤í…ì„ í´ë¼ìš°ë“œ ìƒì—ì„œ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ë‹¤ ë³´ë‹ˆ, VIM ì—ë””í„°ë¥¼ í•„ìš”ë¡œ í•˜ëŠ” ë‘ ë™ì‘ì— ëŒ€í•´ì„œëŠ” êµ¬í˜„í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ì—†ëŠ” ê²ƒ ê°™ì•˜ìŠµë‹ˆë‹¤. ğŸ˜¢

## 2. ì‘ì„±í•œ ì½”ë“œë¥¼ íŠ¹ì • í´ë”ë¡œ ì´ë™ì‹œí‚¤ê¸°

ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ ê³ ì •ì‹œí‚¨ë‹¤ëŠ” ì²˜ìŒì˜ ëª©ì ì„ ë‹¬ì„±í•˜ë‹ˆ, ë‘ ë²ˆì§¸ ì‹œë„ë¥¼ í•´ë³´ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤.

![](/posts/github-action-ìœ¼ë¡œ-ci-ì ìš©í•´ë³´ê¸°/3.png "500px")

ê¸°ì¡´ì—ëŠ” ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œë¥¼ ìœ í˜•ë³„ë¡œ ë‚˜ëˆˆ í´ë”ì— ê¸°ë¡í•˜ê³  ìˆì—ˆëŠ”ë°, ì¼ì¼ ì•Œê³ ë¦¬ì¦˜ í’€ì´ ì €ì¥ì„ ëª©ì ìœ¼ë¡œ í•˜ëŠ” ë§Œí¼, ì´ë¥¼ `{YYYYë…„-MMì›”-DDì¼}` í´ë”ì— ìë™ìœ¼ë¡œ ìœ„ì¹˜ì‹œí‚¤ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤.

#

ë”°ë¼ì„œ ì´ë¥¼ ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ ì‰˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.

```yaml
name: ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œí’€ì´ ê¸°ë¡
on:
  push:
    branches:
      - "master"
jobs:
  Create-PS-Record:
    name: "ê¸ˆì¼ ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œí’€ì´ ê¸°ë¡"
    runs-on: ubuntu-latest
    steps:
      - name: set Today Date
        run: echo TODAY_DATE=$(date +%Yë…„\ %mì›”\ %dì¼) >> $GITHUB_ENV

      - name: fetch repository info
        uses: actions/checkout@v2
        with:
          ref: ${{ github.head_ref }}

      # ìŠ¤í¬ë¦½íŠ¸ ì„¤ëª…
      # try: ì˜¤ëŠ˜ ë‚ ì§œë¡œ ëœ í´ë”ë¥¼ ìƒì„±í•œ í›„, ë£¨íŠ¸ í´ë”ì— ìœ„ì¹˜í•œ íŒŒì´ì¬ íŒŒì¼ì„ ìƒì„±ëœ í´ë”ë¡œ ì˜®ê¹ë‹ˆë‹¤.
      # catch: ë£¨íŠ¸ í´ë”ì— ìœ„ì¹˜í•œ íŒŒì´ì¬ íŒŒì¼ì„ ìƒì„±ëœ í´ë”ë¡œ ì˜®ê¹ë‹ˆë‹¤.
      - name: make directory with today's date & move solved code
        run: mkdir "$(date '+%Yë…„ %mì›” %dì¼')" && mv *.py "$('date +%Yë…„ %mì›” %dì¼')" || mv *.py "$(date '+%Yë…„ %mì›” %dì¼')"

      - name: show current directory (to check mkdir's success)
        run: ls

      - name: overlap commit
        uses: stefanzweifel/git-auto-commit-action@v4
        with:
          commit_message: ${{ env.TODAY_DATE }} ë¬¸ì œ í’€ì´ ê¸°ë¡
          commit_user_name: Chanmin, Kim <kimchanmin1@gmail.com>
          commit_author: "Chanmin, Kim <kimchanmin1@gmail.com>"
```

![](/posts/github-action-ìœ¼ë¡œ-ci-ì ìš©í•´ë³´ê¸°/4.png "800px")

ê²°ê³¼ëŠ” ì„±ê³µí•œ ëª¨ìŠµì…ë‹ˆë‹¤!

#

ì´ì œ ë£¨íŠ¸ í´ë”ì— ì˜¤ëŠ˜ í•´ê²°í•œ ë¬¸ì œ í’€ì´ë“¤ì„ ìœ„ì¹˜ì‹œí‚¤ê³ , ì»¤ë°‹ì„ ì•„ë¬´ë ‡ê²Œë‚˜ ë‚¨ê¸°ê¸°ë§Œ í•˜ë©´ ìë™ìœ¼ë¡œ `{ì˜¤ëŠ˜ ë‚ ì§œ} í’€ì´ ê¸°ë¡` ì´ë¼ëŠ” ì»¤ë°‹ ë©”ì‹œì§€ì™€ í•¨ê»˜ `{ì˜¤ëŠ˜ ë‚ ì§œ}` í´ë” ì•ˆì— ë¬¸ì œ ì½”ë“œë“¤ì´ ìœ„ì¹˜í•˜ê²Œ ë©ë‹ˆë‹¤.

#

ë¹„ë¡ ê°„ë‹¨í•œ ì‘ì—…ì´ì§€ë§Œ ì œê²ŒëŠ” ì²˜ìŒìœ¼ë¡œ ë³¸ê²©ì ì¸ CI íƒœìŠ¤í¬ë¥¼ ì‘ì„±í•´ íŠ¹ì • ì‘ì—…ì„ ìë™í™”í•´ë³¸ ê²½í—˜ì´ì—ˆëŠ”ë°ìš”, ë¦¬ëˆ…ìŠ¤ ì»¤ë§¨ë“œì™€ ì‰˜ ìŠ¤í¬ë¦½íŠ¸ ë¬¸ë²•ì— ëŒ€í•´ì„œë„ ì•Œì•„ë³¼ ìˆ˜ ìˆì—ˆë˜ ì¦ê±°ìš´ ì‹œë„ì˜€ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤! ğŸ˜†
