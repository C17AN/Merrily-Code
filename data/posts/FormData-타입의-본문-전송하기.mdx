---
title: FormData íƒ€ì…ì˜ ìš”ì²­ ë³¸ë¬¸ ë°ì´í„° ì „ì†¡í•˜ê¸°
date: "2022-02-12"
description: FormData ê°ì²´ë¡œ multipart/form-data íƒ€ì…ì˜ ë°ì´í„°ë¥¼ ì „ì†¡í•´ ë´…ì‹œë‹¤.`
category: nodejs
thumbnailUrl: "/thumbnails/nodejs.svg"
tags: ["Node.js", "javascript"]
---

`axios` ë¥¼ í†µí•´ `post` ë©”ì„œë“œ ìš”ì²­ì„ ì „ì†¡í•  ë•ŒëŠ” ê°ì²´ë¥¼ í†µí•´ ìš”ì²­ ë³¸ë¬¸ì´ ë  ë°ì´í„°ë¥¼ í¬í•¨í•  ìˆ˜ ìˆì—ˆëŠ”ë°ìš”, ì•„ë§ˆ ì´ëŸ° í˜•íƒœì˜ ì½”ë“œë¥¼ ë§ì´ ë³´ì…¨ì„ ê²ƒì…ë‹ˆë‹¤.

```jsx
const data = {
  id: "chanmin",
  pw: "encryptedPW",
};

await axios.post(URL, data);

// ë˜ëŠ”

await axios({ method: "post", url: URL, data });
```

ê·¸ëŸ°ë° ì´ëŠ” ìš”ì²­ ë³¸ë¬¸ì— `JSON` í˜•ì‹ì˜ ë°ì´í„°ë¥¼ í¬í•¨í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ, ë§Œì•½ ì„œë²„ì—ì„œ `multipart/form-data` í˜•ì‹ì˜ ë°ì´í„°ë¥¼ ë°›ê³ ì í•œë‹¤ë©´ ë³¸ë¬¸ í˜•ì‹ ë¶ˆì¼ì¹˜ë¡œ ì¸í•´ ì˜ëª»ëœ ìš”ì²­ì´ ë©ë‹ˆë‹¤.

> âœ…Â `form-data` í˜•ì‹ì´ë€?
>
> #
>
> í•œ `post` ìš”ì²­ì— ì„œë¡œ íƒ€ì…ì´ ë‹¤ë¥¸ ë‘˜ ì´ìƒì˜ ë°ì´í„°ë¥¼ í¬í•¨í•´ì•¼ í•  ë•Œ, `Content-type` ì—ëŠ” í•˜ë‚˜ì˜ íƒ€ì…ë§Œì„ ëª…ì‹œí•  ìˆ˜ ìˆë‹¤ëŠ” ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.  
> ë”°ë¼ì„œ í•œ ìš”ì²­ì— ë‘˜ ì´ìƒì˜ íƒ€ì…ì„ í¬í•¨í•˜ê¸° ìœ„í•´ `Content-type`ì— `form-data` ë¼ëŠ” íƒ€ì…ì„ ëª…ì‹œí•˜ê³ , `form-data` ì•ˆì— í•˜ìœ„ ë°ì´í„°ë“¤ ë° íƒ€ì…ì„ ë¬¶ì–´ ê´€ë¦¬í•©ë‹ˆë‹¤.

ê·¸ë ‡ë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ ì˜¬ë°”ë¥¸ `form-data` í˜•ì‹ì˜ ìš”ì²­ì„ ë³´ë‚¼ ìˆ˜ ìˆì„ê¹Œìš”?

## FormData ê°ì²´

ì´ëŸ´ ë•ŒëŠ” `FormData` ê°ì²´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#

`FormData` ê°ì²´ëŠ” `JSON`ê³¼ ìœ ì‚¬í•˜ê²Œ **í‚¤ - ê°’** ìŒìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆì§€ë§Œ, **í‚¤ - ê°’** ìŒì˜ ë°ì´í„° ì™¸ì—ë„ ë°ì´í„° ì²˜ë¦¬ë¥¼ ìœ„í•œ ì—¬ëŸ¬ ì†ì„±ì„ ì¶”ê°€ì ìœ¼ë¡œ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

í•œë²ˆ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©ëœ `FormData` ê°ì²´ë¥¼ ì¶œë ¥í•´ë³¸ ëª¨ìŠµì…ë‹ˆë‹¤.

```jsx
// FormData ê°ì²´ (ì˜ˆì‹œ)
{
  _overheadLength: 314,
  _valueLength: 12,
  _valuesToMeasure: [],
  writable: false,
  readable: true,
  dataSize: 0,
  maxDataSize: 2097152,
  pauseStreams: true,
  _released: false,
  _streams: [
		// ... streams ë°°ì—´ ì•ˆì—ëŠ” FormDataë¥¼ êµ¬ì„±í•˜ëŠ” ë°ì´í„°ê°€ í¬í•¨ë©ë‹ˆë‹¤.
	],
  _currentStream: null,
  _insideLoop: false,
  _pendingNext: false,
  _boundary: '--------------------------583284787948281741859267'
}
```

í•œëˆˆì— ë´ë„ `JSON`ê³¼ëŠ” ë‹¤ë¥¸ ëª¨ìŠµì´ì£ ?
`FormData` íƒ€ì…ì€ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
/* ë¸Œë¼ìš°ì €ì—ëŠ” FormData ê°ì²´ê°€ ë‚´ì¥ë˜ì–´ ìˆì§€ë§Œ,
   node.js ì—ì„œëŠ” form-data íŒ¨í‚¤ì§€ë¥¼ ë³„ë„ë¡œ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤. */

// Node.js í™˜ê²½ì¼ ì‹œ
// import FormData from "form-data";

const formData = new FormData();

// FormData ê°ì²´ì— í‚¤ - ê°’ ìŒ ì¶”ê°€í•˜ê¸°
formData.append("í‚¤", ê°’);

// FormData ê°ì²´ì—ì„œ ë°ì´í„° ì œê±°í•˜ê¸°
formData.delete("ì‚­ì œí•  ë°ì´í„° ìŒì˜ í‚¤");
```

> ğŸ”Â `FormData` ê°ì²´ì˜ ë©”ì„œë“œëŠ” [MDN ë¬¸ì„œ](https://developer.mozilla.org/ko/docs/Web/API/FormData) ì—ì„œ ë” í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í•œë²ˆ ê°œì¸ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•˜ë ¤ í–ˆë˜ ì½”ë“œë¥¼ ì˜ˆë¡œ ë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤.

```jsx
import axios from "axios";
import dotenv from "dotenv";

dotenv.config();

const getSchedule = async ({ foundCd, locCd, date }) => {
  const url = process.env.BASE_ENDPOINT;

  const body = {
    foundCd,
    locCd,
    date,
  };

  try {
    const {
      data: { timeList },
    } = await axios({
      url,
      method: "post",
      data: body,
    });
    return { status: 200, data: timeList };
  } catch (err) {
    return { status: 400, data: err };
  }
};

const data = await getSchedule({ foundCd: "M30", locCd: "3", date: "20220222" });
console.log(data);
// ì›ë˜ì˜ data ê¸°ëŒ“ê°’ ëŒ€ì‹ , undefinedê°€ ëŒì•„ì˜¨ ëª¨ìŠµì…ë‹ˆë‹¤.
// { status: 200, data: undefined }
```

ì´ë ‡ê²Œ í•„ìš”í•œ ë°ì´í„°ë¥¼ ëª¨ì•„ `JSON`ìœ¼ë¡œ ì „ì†¡í•˜ë©´, í•´ë‹¹ ì„œë²„ì—ì„œëŠ” `multipart/form-data` íƒ€ì…ì˜ ìš”ì²­ ë³¸ë¬¸ì„ ê¸°ëŒ€í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ì˜ëª»ëœ ì‘ë‹µì´ ëŒì•„ì˜¤ê²Œ ë©ë‹ˆë‹¤.

```jsx
import dotenv from "dotenv";
import axios from "axios";
import FormData from "form-data";

dotenv.config();

const getSchedule = async ({ foundCd, locCd, date }) => {
  const url = process.env.BASE_ENDPOINT;
  const formData = new FormData();

  formData.append("foundCd ", foundCd);
  formData.append("locCd", locCd);
  formData.append("date", date);

  try {
    const {
      data: { timeList },
    } = await axios({
      url,
      method: "post",
      data: formData,
      // ì—¥, boundaryëŠ” ì–´ë–¤ ì†ì„±ì¼ê¹Œìš”?
      headers: { "Content-Type": `multipart/form-data; boundary=${formData._boundary}` },
    });
    return { status: 200, data: timeList };
  } catch (err) {
    return { status: 400, data: err };
  }
};

const data = await getSchedule({ foundCd: "M30", locCd: "3", date: "20220222" });
console.log(data);
/*
{
  status: 200,
  data: [
    {
      CULTURE_YN: 'N',
      RSV_CNT: 75,
      ENT_CNT: 0,
      SCHEDULE_TIME: '1000',
      GRP_RSV_CNT: 0,
      PERSON_CNT: 75
    },
  ...
}
*/
```

ì´ì œ `JSON` ëŒ€ì‹  `FormData` í˜•ì‹ì˜ ë°ì´í„°ë¥¼ í¬í•¨í•´ ìš”ì²­ì„ ì „ì†¡í•˜ë©´, ì„±ê³µì ìœ¼ë¡œ ì‘ë‹µì´ ëŒì•„ì˜¤ëŠ” ëª¨ìŠµì…ë‹ˆë‹¤. ğŸ™‚

### multipart/form-data í˜•ì‹ì˜ boundary ê°’

ì ê¹ ìœ„ì˜ ì½”ë“œë¥¼ ë‹¤ì‹œ ëŒì•„ë³´ë©´ ì´ë ‡ê²Œ ìƒê¸´ ì½”ë“œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.

```js
headers: { "Content-Type": `multipart/form-data; boundary=${formData._boundary}` },
```

ìœ„ì—ì„œ ì ê¹ ì–¸ê¸‰í–ˆì§€ë§Œ, `multipart/form-data`ëŠ” ì—¬ëŸ¬ í˜•ì‹ì˜ ìš”ì²­ ë³¸ë¬¸ì„ í•˜ë‚˜ë¡œ ë¬¶ì–´ ì „ì†¡í•˜ê¸° ìœ„í•œ í˜•ì‹ì´ì—ˆëŠ”ë°ìš”, ì´ë ‡ê²Œ ì—¬ëŸ¬ ë°ì´í„°ë¥¼ í•˜ë‚˜ë¡œ ë¬¶ì€ ê²°ê³¼ë¬¼ì„ ë‹¤ì‹œ ê°ê°ì˜ ë°ì´í„°ë¡œ êµ¬ë¶„í•´ ë¶„ë¦¬í•˜ê¸° ìœ„í•œ êµ¬ë¶„ìê°€ ë°”ë¡œ `boundary` ê°’ì´ ë©ë‹ˆë‹¤.

#

`FormData` ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë©´ ê°„ë‹¨íˆ ì´ `boundary` ê°’ì„ `_boundary` ë¼ëŠ” í”„ë¡œí¼í‹°ë¡œ ì¶”ì¶œí•  ìˆ˜ ìˆìœ¼ë©°, ì´ë¥¼ ìš”ì²­ í—¤ë”ì— í¬í•¨í•´ ì „ì†¡í•˜ë©´ ë©ë‹ˆë‹¤.

### ìš”ì•½

- í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ì— ëª…ì‹œëœ `Content-type` ì´ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´, ì˜¬ë°”ë¥´ì§€ ì•Šì€ ì‘ë‹µì´ ëŒì•„ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- `multipart/form-data` íƒ€ì…ì„ ë§Œì¡±í•˜ë ¤ë©´ ë¸Œë¼ìš°ì €(ë˜ëŠ” ë…¸ë“œ)ì˜ `FormData` ê°ì²´ë¥¼ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
